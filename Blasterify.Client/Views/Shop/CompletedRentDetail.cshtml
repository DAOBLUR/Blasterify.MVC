@model Blasterify.Client.Models.RentDetail

@{
    ViewBag.Title = "CompletedRentDetail";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>CompletedRentDetail</h2>

<div>
    <h4>RentDetail</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.RentDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.RentDate)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ClientUserId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ClientUserId)
        </dd>

    </dl>

    <div class="m-5">
        <div class="row border-2 border p-0 m-0">
            <p class="col">Title</p>
            <p class="col">Price</p>
            <p class="col">RentDuration</p>
            <p class="col">Total</p>
        </div>

        @foreach (var movie in Model.RentMovies)
        {
            var totalPrice = movie.Price * movie.RentDuration;
            <div class="row border-2 border p-0 m-0">
                <p class="col">@movie.Title</p>
                <p class="col">@movie.Price</p>
                <p class="col">@movie.RentDuration</p>
                <p class="col">@totalPrice</p>
            </div>
        }

    <dd>
        @if (true)
        {
            double totalPrice = 0;
            foreach (var movie in Model.RentMovies)
            {
                totalPrice += movie.Price * movie.RentDuration;
            }
        
            <div class="col align-content-end">
                <p class="col">TOTAL COST: $@totalPrice</p>
            </div>
        }

    </dd>
    </div>
</div>